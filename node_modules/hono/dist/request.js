"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.extendRequestPrototype = void 0;
function extendRequestPrototype() {
    if (!!Request.prototype.param) {
        // already extended
        return;
    }
    Request.prototype.param = function (key) {
        if (this.paramData) {
            if (key) {
                return this.paramData[key];
            }
            else {
                return this.paramData;
            }
        }
        return null;
    };
    Request.prototype.header = function (name) {
        if (name) {
            return this.headers.get(name);
        }
        else {
            const result = {};
            for (const [key, value] of this.headers) {
                result[key] = value;
            }
            return result;
        }
    };
    Request.prototype.query = function (key) {
        const url = new URL(this.url);
        if (key) {
            return url.searchParams.get(key);
        }
        else {
            const result = {};
            for (const key of url.searchParams.keys()) {
                result[key] = url.searchParams.get(key) || '';
            }
            return result;
        }
    };
    Request.prototype.queries = function (key) {
        const url = new URL(this.url);
        if (key) {
            return url.searchParams.getAll(key);
        }
        else {
            const result = {};
            for (const key of url.searchParams.keys()) {
                result[key] = url.searchParams.getAll(key);
            }
            return result;
        }
    };
}
exports.extendRequestPrototype = extendRequestPrototype;
